(()=>{"use strict";const t=r=>{if(0===r.length)return!1;if(1===r.length)return r;const e=Math.round(r.length/2),l=r.slice(0,e),i=r.slice(e);return((t,r)=>{const e=[];let l=0,i=0;for(;l<t.length&&i<r.length;)t[l]<r[i]?e.push(t[l++]):e.push(r[i++]);for(;l<t.length;)e.push(t[l]),l+=1;for(;i<r.length;)e.push(r[i]),i+=1;return e})(t(l),t(i))},r=t,e=class{constructor(t){this.data=t,this.left=null,this.right=null}},l=new class{constructor(){this.root=null}buildTree(t,r=0,l=t.length-1){if(r>l)return null;const i=parseInt((r+l)/2,10),n=new e(t[i]);return n.left=this.buildTree(t,r,i-1),n.right=this.buildTree(t,i+1,l),this.root=n,n}prettyPrint(t=this.root,r="",e=!0){null!==t.right&&this.prettyPrint(t.right,`${r}${e?"│   ":"    "}`,!1),console.log(`${r}${e?"└── ":"┌── "}${t.data}`),null!==t.left&&this.prettyPrint(t.left,`${r}${e?"    ":"│   "}`,!0)}insert(t,r=this.root){return null===r?new e(t):r.data!==t&&(r.data<t?r.right=this.insert(t,r.right):r.left=this.insert(t,r.left),r)}remove(t,r=this.root){if(null===r)return r;if(r.data<t?r.right=this.remove(t,r.right):r.left=this.remove(t,r.left),r.data===t){if(null===r.left&&null===r.right)return null;if(null===r.left)return r.right;if(null===r.right)return r.left;r.data=this.minValue(r.right),r.right=this.remove(r.data,r.right)}return r}minValue(t){return null===t.left?t.data:t=this.minValue(t.left)}preOrder(t){null!=t&&(console.log(`${t.data}`),this.preOrder(t.left),this.preOrder(t.right))}inOrder(t){null!=t&&(this.preOrder(t.left),console.log(`${t.data}`),this.preOrder(t.right))}postOrder(t){null!=t&&(this.preOrder(t.left),this.preOrder(t.right),console.log(`${t.data}`))}sort(t){const e=[...new Set(t)];return r(e)}find(t,r=this.root){return null===r?r:r.data===t?console.log(r):(r.data<t?r.right=this.find(t,r.right):r.left=this.find(t,r.left),r)}},i=l.sort([68,36,80,90,34,59,50,2,71,65,18,23,76,38,68,47,61,57,62,24,1,83,41,60,89,28,34,9,94,18]);l.buildTree(i),l.prettyPrint(),l.insert(69),l.insert(6346),l.insert(6350),l.find(6346)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEtBQ3RKcEIsRUFBV0UsVUFBVXNCLEdBRXJCeEIsRUFBV1EsY0FDWFIsRUFBV2EsT0FBTyxJQUdsQmIsRUFBV2EsT0FBTyxNQUNsQmIsRUFBV2EsT0FBTyxNQUlsQmIsRUFBV3VCLEtBQUssSyIsInNvdXJjZXMiOlsid2VicGFjazovL2JpbmFyeXNlYXJjaHRyZWUvLi9zcmMvbWVyZ2VTb3J0LmpzIiwid2VicGFjazovL2JpbmFyeXNlYXJjaHRyZWUvLi9zcmMvbm9kZS5qcyIsIndlYnBhY2s6Ly9iaW5hcnlzZWFyY2h0cmVlLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1lcmdlID0gKGZpcnN0SGFsZiwgc2Vjb25kSGFsZik9PntcclxuICAgIGNvbnN0IG1lcmdlZEFycmF5ID0gW107XHJcblxyXG4gICAgbGV0IGk9MDtcclxuICAgIGxldCBqPTA7XHJcbiAgICB3aGlsZShpIDwgZmlyc3RIYWxmLmxlbmd0aCAmJiBqIDwgc2Vjb25kSGFsZi5sZW5ndGgpe1xyXG4gICAgICAgIChmaXJzdEhhbGZbaV0gPCBzZWNvbmRIYWxmW2pdKSA/IG1lcmdlZEFycmF5LnB1c2goZmlyc3RIYWxmW2krK10pIFxyXG4gICAgICAgIDogbWVyZ2VkQXJyYXkucHVzaChzZWNvbmRIYWxmW2orK10pXHJcbiAgICB9XHJcbiAgICB3aGlsZShpIDwgZmlyc3RIYWxmLmxlbmd0aCl7XHJcbiAgICAgICAgbWVyZ2VkQXJyYXkucHVzaChmaXJzdEhhbGZbaV0pO1xyXG4gICAgICAgIGkrPTE7XHJcbiAgICB9XHJcblxyXG4gICAgd2hpbGUoaiA8IHNlY29uZEhhbGYubGVuZ3RoKXtcclxuICAgICAgICBtZXJnZWRBcnJheS5wdXNoKHNlY29uZEhhbGZbal0pO1xyXG4gICAgICAgIGorPTE7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2cobWVyZ2VkQXJyYXkpO1xyXG4gICAgcmV0dXJuIG1lcmdlZEFycmF5O1xyXG5cclxufVxyXG5cclxuY29uc3QgbWVyZ2VTb3J0ID0gKHNvbWVBcnJheSk9PntcclxuICAgIGlmKHNvbWVBcnJheS5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcclxuICAgIGlmKHNvbWVBcnJheS5sZW5ndGggPT09IDEpIHJldHVybiBzb21lQXJyYXk7XHJcblxyXG4gICAgY29uc3QgbWlkID0gTWF0aC5yb3VuZChzb21lQXJyYXkubGVuZ3RoLzIpO1xyXG4gICAgY29uc3QgZmlyc3RIYWxmID0gc29tZUFycmF5LnNsaWNlKDAsIG1pZClcclxuICAgIGNvbnN0IHNlY29uZEhhbGYgPSBzb21lQXJyYXkuc2xpY2UobWlkKTtcclxuXHJcbiAgICByZXR1cm4gbWVyZ2UobWVyZ2VTb3J0KGZpcnN0SGFsZiksIG1lcmdlU29ydChzZWNvbmRIYWxmKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1lcmdlU29ydCIsImNvbnN0IE5vZGUgPSBjbGFzc3tcclxuXHRjb25zdHJ1Y3RvcihkYXRhKVxyXG5cdHtcclxuXHRcdHRoaXMuZGF0YSA9IGRhdGE7XHJcblx0XHR0aGlzLmxlZnQgPSBudWxsO1xyXG5cdFx0dGhpcy5yaWdodCA9IG51bGw7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBOb2RlIiwiLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cclxuLyogZXNsaW50LWRpc2FibGUgY2xhc3MtbWV0aG9kcy11c2UtdGhpcyAqL1xyXG5pbXBvcnQgbWVyZ2VTb3J0IGZyb20gXCIuL21lcmdlU29ydFwiO1xyXG5pbXBvcnQgTm9kZSBmcm9tIFwiLi9ub2RlXCI7XHJcblxyXG5jb25zdCBUcmVlID0gY2xhc3N7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMucm9vdCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgYnVpbGRUcmVlKGFyciwgc3RhcnQgPSAwICwgZW5kID0gYXJyLmxlbmd0aC0xKXsvLyBjcmVhdGVzIGFuZCBicmFuY2hlcyBub2RlIGFuZCByZXR1cm5zIHRoZSBtYWluIG5vZGVcclxuICAgICAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBudWxsO1xyXG4gICAgXHJcbiAgICAgICAgY29uc3QgbWlkID0gcGFyc2VJbnQoKHN0YXJ0ICsgZW5kKSAvIDIsIDEwKTtcclxuICAgICAgICBjb25zdCBub2RlID0gbmV3IE5vZGUoYXJyW21pZF0pO1xyXG4gICAgICAgIG5vZGUubGVmdCA9IHRoaXMuYnVpbGRUcmVlKGFyciwgc3RhcnQsIG1pZCAtIDEpO1xyXG4gICAgICAgIG5vZGUucmlnaHQgPSB0aGlzLmJ1aWxkVHJlZShhcnIsIG1pZCArIDEsIGVuZCk7XHJcbiAgICAgICAgdGhpcy5yb290ID0gbm9kZTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuXHJcbiAgICBwcmV0dHlQcmludChub2RlID0gdGhpcy5yb290LCBwcmVmaXggPSBcIlwiLCBpc0xlZnQgPSB0cnVlKXsvLyB2aXN1YWwgcmVwcmVzZW50YXRpb24gb2YgdGhyIGJpbmFyeSB0cmVlXHJcbiAgICAgICAgaWYgKG5vZGUucmlnaHQgIT09IG51bGwpIHtcclxuICAgICAgICAgIHRoaXMucHJldHR5UHJpbnQobm9kZS5yaWdodCwgYCR7cHJlZml4fSR7aXNMZWZ0ID8gXCLilIIgICBcIiA6IFwiICAgIFwifWAsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coYCR7cHJlZml4fSR7aXNMZWZ0ID8gXCLilJTilIDilIAgXCIgOiBcIuKUjOKUgOKUgCBcIn0ke25vZGUuZGF0YX1gKTtcclxuICAgICAgICBpZiAobm9kZS5sZWZ0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICB0aGlzLnByZXR0eVByaW50KG5vZGUubGVmdCwgYCR7cHJlZml4fSR7aXNMZWZ0ID8gXCIgICAgXCIgOiBcIuKUgiAgIFwifWAsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbnNlcnQoZGF0YSwgY3VycmVudE5vZGUgPSB0aGlzLnJvb3QpIHtcclxuICAgICAgICBpZiAoY3VycmVudE5vZGUgPT09IG51bGwpIHJldHVybiBuZXcgTm9kZShkYXRhKTsvLyBjcmVhdGVzIG5ldyBub2RlIGF0IHRoZSBlbmRcclxuICAgICAgICBpZiAoY3VycmVudE5vZGUuZGF0YSA9PT0gZGF0YSkgcmV0dXJuIGZhbHNlOy8vIG5vIGR1cGVzXHJcbiAgICBcclxuICAgICAgICBpZiAoY3VycmVudE5vZGUuZGF0YSA8IGRhdGEpIHsvLyBuZXdEYXRhIGdyZWF0ZXIgdGhhbiBjdXJyZW50IG5vZGVEYXRhIHRoZW4gbm9kZSBjaGFuZ2VzIHRvIG5vZGUncyByaWdodCBzaWRlXHJcbiAgICAgICAgICBjdXJyZW50Tm9kZS5yaWdodCA9IHRoaXMuaW5zZXJ0KGRhdGEsIGN1cnJlbnROb2RlLnJpZ2h0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY3VycmVudE5vZGUubGVmdCA9IHRoaXMuaW5zZXJ0KGRhdGEsIGN1cnJlbnROb2RlLmxlZnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3VycmVudE5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlKGRhdGEsIGN1cnJlbnROb2RlID0gdGhpcy5yb290KXtcclxuICAgICAgICBpZihjdXJyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGN1cnJlbnROb2RlO1xyXG5cclxuICAgICAgICBpZiAoY3VycmVudE5vZGUuZGF0YSA8IGRhdGEpIHsvLyBjb21wYXJpbmcgdGhlIHJlbW92ZWQgZGF0YSBpbiB0aGUgdHJlZSBhbmQgZmluZGluZyBpdHMgcG9zaXRpb25cclxuICAgICAgICAgICAgY3VycmVudE5vZGUucmlnaHQgPSB0aGlzLnJlbW92ZShkYXRhLCBjdXJyZW50Tm9kZS5yaWdodCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY3VycmVudE5vZGUubGVmdCA9IHRoaXMucmVtb3ZlKGRhdGEsIGN1cnJlbnROb2RlLmxlZnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoY3VycmVudE5vZGUuZGF0YSA9PT0gZGF0YSl7Ly8gZGF0YSBtYXRoY2VzIGluIHRyZWVcclxuICAgICAgICAgICAgaWYoY3VycmVudE5vZGUubGVmdD09PW51bGwgJiYgY3VycmVudE5vZGUucmlnaHQgPT09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7Ly8gcmVtb3ZlcyB0aGUgbGVhZiBvZiB0aGUgdHJlZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGN1cnJlbnROb2RlLmxlZnQgPT09IG51bGwpey8vIGlmIGhhcyBvbmUgY2hpbGQgbWFrZXMgdGhlIGNoaWxkIHRoZSBwYXJlbnRcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50Tm9kZS5yaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihjdXJyZW50Tm9kZS5yaWdodCA9PT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudE5vZGUubGVmdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBmdW5jdGlvbiBmb3IgYSBwYXJlbnQgaGF2aW5nIGJvdGggY2hpbGRyZW5cclxuICAgICAgICAgICAgY3VycmVudE5vZGUuZGF0YSA9ICB0aGlzLm1pblZhbHVlKGN1cnJlbnROb2RlLnJpZ2h0KTsvLyBjaGFuZ2VzIHRoZSByZW1vdmVkIG5vZGVEYXRhIHRvIHRoZSBuZXh0IGJpZ2dlc3QgbnVtYmVyXHJcbiAgICAgICAgICAgIC8vIHJlbW92aW5nIHRoZSBzdWNlc3NvciBhZnRlciByZXBsYWNlbWVudFxyXG4gICAgICAgICAgICBjdXJyZW50Tm9kZS5yaWdodCA9IHRoaXMucmVtb3ZlKGN1cnJlbnROb2RlLmRhdGEsIGN1cnJlbnROb2RlLnJpZ2h0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjdXJyZW50Tm9kZTtcclxuICAgIH1cclxuXHJcbiAgICBtaW5WYWx1ZShub2RlKXsvLyByZXR1cm5zIHRoZSBsZWFzdCB2YWx1ZSB3aGVuIGEgcmVtb3ZlZCBub2RlIGhhcyBib3RoIHNpZGVcclxuICAgICAgICBpZihub2RlLmxlZnQgPT09IG51bGwpIHJldHVybiBub2RlLmRhdGE7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbm9kZSA9IHRoaXMubWluVmFsdWUobm9kZS5sZWZ0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByZU9yZGVyKG5vZGUpey8vIGRpc3BsYXkgZGVwdGggMXN0XHJcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAke25vZGUuZGF0YX1gKTtcclxuICAgICAgICB0aGlzLnByZU9yZGVyKG5vZGUubGVmdCk7XHJcbiAgICAgICAgdGhpcy5wcmVPcmRlcihub2RlLnJpZ2h0KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaW5PcmRlcihub2RlKXsvLyBkaXNwbGF5IGRlcHRoIDFzdFxyXG4gICAgICAgIGlmIChub2RlID09IG51bGwpIHJldHVybjtcclxuICAgICAgICB0aGlzLnByZU9yZGVyKG5vZGUubGVmdCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCR7bm9kZS5kYXRhfWApO1xyXG4gICAgICAgIHRoaXMucHJlT3JkZXIobm9kZS5yaWdodCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHBvc3RPcmRlcihub2RlKXsvLyBkaXNwbGF5IGRlcHRoIDFzdFxyXG4gICAgICAgIGlmIChub2RlID09IG51bGwpIHJldHVybjtcclxuICAgICAgICB0aGlzLnByZU9yZGVyKG5vZGUubGVmdCk7XHJcbiAgICAgICAgdGhpcy5wcmVPcmRlcihub2RlLnJpZ2h0KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgJHtub2RlLmRhdGF9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgc29ydChhcnIpey8vIHJlbW92ZXMgZHVwZXMgYW5kIHRoZW4gc29ydHMgdGhlIGFycmF5XHJcbiAgICAgICAgY29uc3Qgbm9EdXBsaWNhdGVzID0gWy4uLm5ldyBTZXQoYXJyKV07XHJcbiAgICAgICAgY29uc3Qgc29ydGVkQXJyYXkgPSBtZXJnZVNvcnQobm9EdXBsaWNhdGVzKTtcclxuICAgICAgICByZXR1cm4gc29ydGVkQXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgZmluZChkYXRhLCAgY3VycmVudE5vZGUgPSB0aGlzLnJvb3Qpe1xyXG4gICAgICAgIGlmKGN1cnJlbnROb2RlID09PSBudWxsKSByZXR1cm4gY3VycmVudE5vZGU7XHJcbiAgICAgICAgaWYoY3VycmVudE5vZGUuZGF0YSA9PT0gZGF0YSkgcmV0dXJuIGNvbnNvbGUubG9nKGN1cnJlbnROb2RlKTtcclxuXHJcbiAgICAgICAgaWYgKGN1cnJlbnROb2RlLmRhdGEgPCBkYXRhKSB7Ly8gY29tcGFyaW5nIHRoZSByZW1vdmVkIGRhdGEgaW4gdGhlIHRyZWUgYW5kIGZpbmRpbmcgaXRzIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIGN1cnJlbnROb2RlLnJpZ2h0ID0gdGhpcy5maW5kKGRhdGEsIGN1cnJlbnROb2RlLnJpZ2h0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdXJyZW50Tm9kZS5sZWZ0ID0gdGhpcy5maW5kKGRhdGEsIGN1cnJlbnROb2RlLmxlZnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3VycmVudE5vZGU7XHJcbiAgICB9XHJcbiBcclxufVxyXG5cclxuLy8gY29uc3QgcmFuZG9tQXJyYXkgPSAoc2l6ZSkgPT4gQXJyYXkuZnJvbSh7IGxlbmd0aDogc2l6ZSB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApKVxyXG4vLyBjb25zb2xlLmxvZyhyYW5kb21BcnJheSgzMCkpO1xyXG5jb25zdCBiaW5hcnlUcmVlID0gbmV3IFRyZWUoKTtcclxuY29uc3Qgc29ydGVkQXJyYXkgPSBiaW5hcnlUcmVlLnNvcnQoWzY4LCAzNiwgODAsIDkwLCAzNCwgNTksIDUwLCAyLCA3MSwgNjUsIDE4LCAyMywgNzYsIDM4LCA2OCwgNDcsIDYxLCA1NywgNjIsIDI0LCAxLCA4MywgNDEsIDYwLCA4OSwgMjgsIDM0LCA5LCA5NCwgMThdKTtcclxuYmluYXJ5VHJlZS5idWlsZFRyZWUoc29ydGVkQXJyYXkpO1xyXG5cclxuYmluYXJ5VHJlZS5wcmV0dHlQcmludCgpO1xyXG5iaW5hcnlUcmVlLmluc2VydCg2OSk7XHJcbi8vIGJpbmFyeVRyZWUuaW5zZXJ0KDY4KTtcclxuLy8gYmluYXJ5VHJlZS5pbnNlcnQoMjApO1xyXG5iaW5hcnlUcmVlLmluc2VydCg2MzQ2KTtcclxuYmluYXJ5VHJlZS5pbnNlcnQoNjM1MCk7XHJcbi8vIGJpbmFyeVRyZWUucHJldHR5UHJpbnQoKTtcclxuLy8gYmluYXJ5VHJlZS5yZW1vdmUoMjgpO1xyXG4vLyBiaW5hcnlUcmVlLnByZXR0eVByaW50KCk7XHJcbmJpbmFyeVRyZWUuZmluZCg2MzQ2KSJdLCJuYW1lcyI6WyJtZXJnZVNvcnQiLCJzb21lQXJyYXkiLCJsZW5ndGgiLCJtaWQiLCJNYXRoIiwicm91bmQiLCJmaXJzdEhhbGYiLCJzbGljZSIsInNlY29uZEhhbGYiLCJtZXJnZWRBcnJheSIsImkiLCJqIiwicHVzaCIsIm1lcmdlIiwiY29uc3RydWN0b3IiLCJkYXRhIiwidGhpcyIsImxlZnQiLCJyaWdodCIsImJpbmFyeVRyZWUiLCJyb290IiwiYnVpbGRUcmVlIiwiYXJyIiwic3RhcnQiLCJlbmQiLCJwYXJzZUludCIsIm5vZGUiLCJwcmV0dHlQcmludCIsInByZWZpeCIsImlzTGVmdCIsImNvbnNvbGUiLCJsb2ciLCJpbnNlcnQiLCJjdXJyZW50Tm9kZSIsInJlbW92ZSIsIm1pblZhbHVlIiwicHJlT3JkZXIiLCJpbk9yZGVyIiwicG9zdE9yZGVyIiwic29ydCIsIm5vRHVwbGljYXRlcyIsIlNldCIsImZpbmQiLCJzb3J0ZWRBcnJheSJdLCJzb3VyY2VSb290IjoiIn0=